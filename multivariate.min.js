/*! multivariate v0.1.0 */
function Multivariate(a,b){this.testName=a,b&&(this.sample=b.sample?b.sample:50,this.gaTrackingId=b.gaTrackingId?b.gaTrackingId:null,this.isDevEnv=b.isDevEnv?b.isDevEnv:!1,this.debugEnabled=b.debug?b.debug:!1,this.cookieExpireDays=b.cookieExpireDays?b.cookieExpireDays:90),this.isInTest=null,this.isInTestGroup=function(){return null!==this.isInTest?this.isInTest:(this.isInTest=h(this.testName),void 0===this.isInTest||null===this.isInTest?(this.isInTest=100*Math.random()<this.sample,d("setting user to isInTest => "+this.isInTest),g(this.testName,this.isInTest,this.cookieExpireDays)):(this.isInTest="true"===this.isInTest,d("cookie found, user in isInTest: "+this.isInTest)),this.isInTest)},this.runTest=function(a){this.isInTestGroup()?(e("mv-control"),f("mv-test")):(f("mv-control"),e("mv-test")),m()&&(void 0===a||a)&&this.gaSendPageView()},this.gaSendPageView=function(){return m()?(ga("send","pageview"),void 0):(console.error("ga does not exist, will not send page view"),void 0)},this.gaSetDimension=function(a,b){return m()?(ga("set",a,b),void 0):(console.error("ga does not exist, will not set dimension"),void 0)},this.gaBindClickEvent=function(a){return m()?(k(document.getElementById(a),"click",function(){ga("send","event","button","click",a)}),void 0):(console.error("ga does not exist, will not bind click event to send a Google Analytics event"),void 0)};var c=this,d=function(a){c.debugEnabled&&console.log(a)},e=function(a){var b,c;for(b=document.getElementsByClassName(a),c=0;c<b.length;c++)d("hiding element: "+b[c]),b[c].style.display="none"},f=function(a){var b;for(b=document.getElementsByClassName(a),i=0;i<b.length;i++)d("showing element: "+b[i]),b[i].style.display=""},g=function(a,b,c){var e;d("setting cookie, cookieName: "+a+" cookieValue: "+b+" expireDays: "+c),e=new Date,e.setDate(e.getDate()+c),document.cookie=a+"="+b+"; expires="+e.toUTCString()+"; path=/"},h=function(a){var b,c,e;for(b=j(),c=0;c<b.length;c++)if(e=b[c].split("="),e.length>1&&e[0]===a)return d("found test cookie with value: "+e[1]),e[1];return null},j=function(){var a,b;for(a=document.cookie.split(";"),b=0;b<a.length;b++)a[b]=a[b].trim();return a},k=function(a,b,c){return a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)},l=function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)},m=function(){return"undefined"!=typeof ga?!0:!1},n=function(a,b){return m()?(b?ga("create",a,{cookieDomain:"none"}):ga("create",a),void 0):(console.error("ga does not exist, will not attempt to create GA tracker object"),void 0)};this.debugEnabled&&(d("testName: "+this.testName),d("sample: "+this.sample),d("gaTrackingId: "+this.gaTrackingId),d("isDevEnv: "+this.isDevEnv)),this.gaTrackingId&&(d("gaTrackingId supplied, enabling Google Analytics"),l(window,document,"script","//www.google-analytics.com/analytics.js","ga"),n(this.gaTrackingId,this.isDevEnv))}